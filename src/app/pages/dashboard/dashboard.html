@let isEditMode=editMode();
@let data=tabs();

<section class="section">
  @if(data.length){
  <mat-tab-group>
    @for (tab of data; track $index) {
    <mat-tab [label]="tab.title">
      <app-card-list [cards]="tab.cards" />
    </mat-tab>
    }
  </mat-tab-group>
  }@else{
  <app-header title="Empty"></app-header>
  <div class="message">{{empty}}</div>
  }
  <div class="controls">
    @if(isEditMode){
    <button type="button" class="button icon" (click)="onAddCard()">
      <span>add</span>
      <span> Add tab</span>
    </button>
    <button type="button" class="button icon" (click)="onAddCard()">
      <span>add</span>
      <span> Add card</span>
    </button>
    <button type="button" class="button" (click)="onDiscard()">Discard</button>
    <button type="button" class="button" (click)="onSave()">Save</button>
    }@else{
    <app-square-button icon="edit" (onClick)="onEdit()" />
    <app-square-button icon="del" (onClick)="onDelete()" />
    }
  </div>
</section>
