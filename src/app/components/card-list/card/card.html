@let cardData=data();

<div class="card" [class.highlight]="highlight()">
  <h3 class="title">{{cardData.title}}</h3>
  <div class="item_list" [class.item_list_vertical]="cardData.layout==='verticalLayout'">
    @for(item of cardData.items; track item.label){
    @if(item.type==='device'){
    <app-device [onSwitch]="onToggle" [data]="item" />
    }
    @if(item.type==='sensor'){
    <app-sensor [layout]="cardData.layout" [data]="item" />
    }
    }
    @if(groupToggle){
    <app-device [onSwitch]="onGroupToggle" [data]="groupToggle" />
    }
  </div>
</div>
